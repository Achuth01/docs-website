---
title: ウェブ上の重要な要素を監視する
tags:
  - Browser
  - Browser monitoring
  - Guides
metaDescription: A guide to monitor Google's core web vitals.
freshnessValidatedDate: never
translationType: machine
---

import browserWebVitalsGif from 'images/browser_screenshot-full_web-vitals.gif'

import browserPageUrlView from 'images/browser_screenshot-full_page-url-view.webp'

import browserFilteredWebVitals from 'images/browser_screenshot-full_filtered-web-vitals.webp'

import browserSessionTraces from 'images/browser_screenshot-crop_session-traces.gif'

コア ウェブ バイタルは、全体的なユーザー エクスペリエンスを評価する Google の指標です。これらは、ユーザーがあなたのビジネスをどのように見ているかについての貴重な洞察を提供し、サイトの SEO ランキングに影響を与える可能性があります。ユーザー エクスペリエンスを把握するスコアを取得することで、サイトが何を必要としているかを推測するのではなく、特定の問題に対してアクションを起こすことができます。

## 目的 [#objectives]

このチュートリアルでは、New Relic を使用して Web の重要な要素を分析する方法を説明します。チュートリアルが終わるまでに、次のタスクが完了します。

* one.newrelic.com でコア Web バイタルを見つけてください。
* Web の重要な要素がサイトのパフォーマンスにどのように反映されるかを理解します。
* New Relic でデータをフィルタリングして、スコアに寄与しているものを見つけます。

## ウェブの重要な要素を理解する [#understand]

すでに New Relic を使用してbrowserアプリを監視している場合は、<DoNotTranslate>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Browser > (select an app) > Monitor > Web vitals**</DoNotTranslate> に進みます。

<img
  title="Track core web vitals site-wide, favorite key webpages, and filter by time period."
  alt="overview of the web vitals page"
  src={browserWebVitalsGif}
/>

<figcaption>
  <DoNotTranslate>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Browser > (select an app) > Monitor > Web vitals**</DoNotTranslate>: サイト全体のコアウェブバイタル、お気に入りの主要なウェブページを追跡し、期間ごとにフィルターします。
</figcaption>

3 つの主要な Web Vitals は次のとおりです。

* [Largest contentful paint](https://web.dev/lcp/) : ローディング パフォーマンスを測定
* [First input delay](https://web.dev/fid/) : ユーザー入力とブラウザー応答の間の対話性を測定します
* [累積レイアウト シフト](https://web.dev/cls/): 視覚的な安定性を測定

各ウェブ バイタルには、アプリのパフォーマンスと SEO を追跡するのに役立つ次のしきい値があります。

<table>
  <thead>
    <tr>
      <th style={{ width: "200px" }}/>

      <th style={{ width: "200px" }}>
        良い
      </th>

      <th style={{ width: "275px" }}>
        改善が必要
      </th>

      <th style={{ width: "200px" }}>
        悪い
      </th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td>
        <DoNotTranslate>
          **Largest contentful paint**
        </DoNotTranslate>
      </td>

      <td>
        &lt;=2.5秒
      </td>

      <td>
        &lt;=4 秒
      </td>

      <td>
        \>4秒
      </td>
    </tr>

    <tr>
      <td>
        <DoNotTranslate>
          **First input delay**
        </DoNotTranslate>
      </td>

      <td>
        &lt;=100ms
      </td>

      <td>
        &lt;=300ms
      </td>

      <td>
        \>300ms
      </td>
    </tr>

    <tr>
      <td>
        <DoNotTranslate>
          **Cumulative layout shift**
        </DoNotTranslate>
      </td>

      <td>
        &lt;=0.1
      </td>

      <td>
        &lt;=0.25
      </td>

      <td>
        \>0.25
      </td>
    </tr>
  </tbody>
</table>

<DoNotTranslate>**Good**</DoNotTranslate> Web Vitals は、組織のコスト削減と SEO の向上に役立ちます。 <DoNotTranslate>**Poor**</DoNotTranslate>または<DoNotTranslate>**Needs improvement**</DoNotTranslate> 、組織に対するユーザーの否定的な認識を反映している可能性があり、顧客の不満やビジネス チャンスの損失につながる可能性があります。

## 特定のページにドリルダウンする [#drill-down]

インサイトを重要なページ (e コマースのチェックアウト ページなど) に含める場合は、 <DoNotTranslate>**Page URL**</DoNotTranslate>テーブルで見つけます。 コアウェブバイタルに寄与しているものの詳細が表示され、エンドユーザーがサイトのこれらの領域をどのように体験しているかを理解するために使用できます。 たとえば、Chrome ブラウザのパフォーマンス低下のパターンに気付いた場合は、そのユーザー ベースに対する今後の改善策を厳選できます。

<img
  title="Click on a page URL to see page-specific web vitals."
  alt="Click on a page URL to see page-specific web vitals."
  src={browserPageUrlView}
/>

<figcaption>
  <DoNotTranslate>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Browser > (select an app) > Monitor > Web vitals > (click on a page URL)**</DoNotTranslate>: 最も影響力のある Web ページのコアバイウェブタルの内訳を表示します。
</figcaption>

## 主要な属性によるフィルタリング [#key-attributes]

バックエンドの変更やパフォーマンスの問題がコアウェブバイタルにどのような影響を与えたかなど、特定のことを調査したい場合は、 <DoNotTranslate>**Filter by**</DoNotTranslate>ツールを使用して主要な属性をフィルタリングできます。

<img
  title="Use the filter tool to filter core web vitals by key attributes"
  alt="Filter by key attributes"
  src={browserFilteredWebVitals}
/>

<figcaption>
  <DoNotTranslate>**[one.newrelic.com > All capabilities](https://one.newrelic.com/all-capabilities) > Browser > (select an app) > Monitor > Web vitals > (add filters)**</DoNotTranslate>: フィルタ ツールを使用して、主要な属性によってコアウェブバイタルをフィルタリングします。
</figcaption>

ほぼすべてのキー属性でフィルタリングできますが、役に立つ例をいくつか読んでください。

<CollapserGroup>
  <Collapser
    id="device"
    title="デバイスの種類別"
  >
    デスクトップとモバイルのパフォーマンスを比較し、コアウェブバイタルが 2 つのプラットフォームでどのように異なるかを比較したいとします。 <DoNotTranslate>**Web vitals**</DoNotTranslate>でこれを調査するには:

    1. <DoNotTranslate>**Filter by**</DoNotTranslate>

       フィールドで、

       <DoNotTranslate>**Attribute**</DoNotTranslate>

       `deviceType`に、

       <DoNotTranslate>**Value**</DoNotTranslate>

       `desktop`に設定します。

    2. 重複したbrowserで、

       <DoNotTranslate>**Attribute**</DoNotTranslate>

       を `deviceType` に、

       <DoNotTranslate>**Value**</DoNotTranslate>

       を `mobile` に設定し、結果を比較します。
  </Collapser>

  <Collapser
    id="user-info"
    title="ユーザー情報別"
  >
    11 月 1 日の午後 12 時ごろ、エンドユーザーがサイトのチェックアウト ページでパフォーマンスの問題を報告したとします。このユーザーに何が起こったのかを確認したいとします。 <DoNotTranslate>**Web vitals**</DoNotTranslate>でこれを調査するには:

    1. 時間範囲を 11 月 1 日の午前 11 時から午後 1 時までに設定します。

    2. <DoNotTranslate>**Page URL**</DoNotTranslate>

       テーブルで、チェックアウト ページの URL をクリックします。

    3. <DoNotTranslate>**Filter by**</DoNotTranslate>

       フィールドで、

       <DoNotTranslate>**Attribute**</DoNotTranslate>

       `userID`に、

       <DoNotTranslate>**Value**</DoNotTranslate>

       `user ID`に設定します。

    <Callout
      variant="tip"
      title="ユーザーIDについて"
    >
      `userID` は、 [ブラウザの SPA API](/docs/browser/new-relic-browser/browser-agent-spa-api/setcustomattribute-browser-agent-api/)を使用して設定する必要があるカスタム属性です。`userID`が利用できない場合は、 `username`や`session`などの他のユーザー情報でフィルタリングすることもできます。
    </Callout>
  </Collapser>

  <Collapser
    id="resource"
    title="リソース別"
  >
    たとえば、あなたの組織が最近、11 月 10 日午前 8 時にサイトのホームページの画像を更新し、その変更がコアウェブバイタルに影響を与えたかどうかを確認したいとします。 <DoNotTranslate>**Web vitals**</DoNotTranslate>でこれを調査するには:

    1. 時間範囲を 11 月 10 日の午前 7 時から午前 9 時までに設定します。

    2. <DoNotTranslate>**Page URL**</DoNotTranslate>

       テーブルで、ホームページ URL をクリックします。

    3. <DoNotTranslate>**Filter by**</DoNotTranslate>

       フィールドで、

       <DoNotTranslate>**Attribute**</DoNotTranslate>

       `elementTagName`に、

       <DoNotTranslate>**Value**</DoNotTranslate>

       `IMG`に設定します。
  </Collapser>
</CollapserGroup>

## セッショントレースでより多くのコンテキストを取得 [#session-traces]

New Relic は、特定のページ上のユーザーのセッションに関するデータをキャプチャします。セッション トレースはランダムにサンプリングされ、ユーザーがページ読み込みタイミングの問題、JavaScript イベント、その他のエラーをどのように経験したかを確認できます。

<img
  title="Session traces in the New Relic UI"
  alt="Session traces in Browser UI lets you look at real user sessions for a given page"
  src={browserSessionTraces}
/>

セッション トレースを使用して、さまざまなユーザー セッションにわたるパターンを見つけることをお勧めします。コアの Web Vitals スコアの 1 つを改善できる場合、オプションの 1 つは、セッション トレースを調べて、さまざまなユーザー セッション間でどのような共通属性が共有されているかを確認することです。セッション トレースがサイトの改善にどのように役立つかを示す例を次に示します。

1. <DoNotTranslate>**Web vitals**</DoNotTranslate>

   タブで、パフォーマンスが低下しているページをクリックします。 上の画像を例として使用すると、サイトの全体的な LCP スコアは良好ですが、個々のページの一部には改善が必要であることがわかります。

2. <DoNotTranslate>**Web vitals**</DoNotTranslate>

   ページの

   <DoNotTranslate>**Page URLs**</DoNotTranslate>

   セクションを見ると、ホームページ URL の LCP スコアが 4 秒を超えていることがわかります。 これはすべてのユーザーに影響するエラーによるものですか、それとも 1 種類のユーザーのみに影響するものですか? たとえば、特定のバージョンの Chrome または特定の OS を使用しているユーザーでページロードタイムが遅いことに気付いた場合、問題の特定の原因をより適切にトラブルシューティングできます。

3. トラブルシューティングする URL をクリックすると、新しいウィンドウが表示されます。 LCP スコアがサイト全体の LCP スコアよりもはるかに高いことに気づきました。 このページの下部にある

   <DoNotTranslate>**Session traces**</DoNotTranslate>

   セクションまでスクロールすると、実際のユーザー セッションのさまざまなサンプルが表示されます。 これらのセッションでは、ユーザーが AJAX リクエスト、DOM 読み込みに関連する問題、JavaScript イベント、またはその他のエラーをどのように経験したかについて、より詳細な情報を得ることができます。

ランダム化されたセッションからのデータは、Web ページとの数百または数千のユーザー操作全体のパターンを見つけるのに役立ちます。このランダムに選択されたデータにパターンが現れた場合、問題を解決するための計画によってページ スコアが向上するという確信が持てます。

<UserJourneyControls
  nextStep={{"path":"/docs/tutorial-improve-site-performance/fixing-high-latency","title":"次のステップ","body":"サービス全体のレイテンシーの問題を見つける"}}
  previousStep={{"path":"/docs/tutorial-improve-site-performance/improve-website-performance","title":"一つ前の手順","body":"サイトを計測する"}}
/>